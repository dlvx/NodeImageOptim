<!DOCTYPE html>
<html ng-app="app">
  <head>
    <meta charset="utf-8">
    <title></title>

    <!-- Styles -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">

    <!-- Scripts -->

    <script src='bower_components/angular/angular.min.js'></script>
    <script src='bower_components/ng-file-upload/ng-file-upload.min.js'></script>
    <script src='bower_components/bootstrap/dist/js/bootstrap.min.js'></script>
    <script src="js/app.js"></script>
  </head>
  <body>
    <div ng-controller="mainController">
      <div class="jumbotron text-center">
        <form  name="form">
          <div class="btn btn-primary" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'"
            ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100" ng-click="clear()">
            Select
          </div>
          <button class="btn btn-primary" type="submit" ng-click="submit()" ng-disabled="file.type != 'image/png'">Submit</button>
          <button class="btn btn-primary" ng-click="download()" ng-disabled="disableDownload">Download</button>


        </form>
        <div class="alert alert-danger" role="alert" ng-show="file && file.type != 'image/png'">Image format must be PNG</div>

        <p>{{stat}}</p>
      </div>

      <br/>
      <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-12">
          <h3>Uncompressed Image.</h3>
          <h3 ng-if="file"> Size: {{(file.size/1024).toFixed(2) || 0}}Kb</h3>
          <div class="image-container">
            <img ngf-src="file" ngf-background="file"  />
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12">
          <h3>Compressed Image. </h3>
          <h3 ng-if="downloadedFile">Size: {{downloadFileSize || 0}}Kb</h3>
          <div class="image-container">
            <img ng-show="downloadedFile" ng-src="{{downloadedFile}}" />
          </div>
        </div>
      </div>

      <hr>

    </div>
  </body>
</html>
